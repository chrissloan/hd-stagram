(function(e){"use strict";var t;t=function(e,t,n,r){var i;i=function(n,r){return t(e.get("/templates/"+n+".html"))(r)};return{restrict:"EA",scope:true,replace:true,controller:["$scope",function(e){return e.fetch=function(t){return n.fetch(t).then(function(t){return e.instagram=t})}}],link:function(e,t,n){var s;r.setSize(n.size);s={};if(n.photoId){s={template:i("single_image",e),term:n.photoId,type:"shortcode"}}if(n.tagName){s={template:i("tagged_images",e),term:n.tagName,type:"tag"}}s["size"]=r.get();if(n.link){s["link"]=n.link}t.append(s.template);return e.fetch(s)}}};t.$inject=["$templateCache","$compile","Instagram","InstagramPhotoSize"];return e.module("haideeStagram.directives",[]).directive("hdStagram",t)})(angular);(function(e){"use strict";var t,n;t=function(e,n,r,i){t={};t.data={};t.base_url="https://api.instagram.com/v1";t.client_id=i;t.end_points={media:"/media/",shortcode:function(e){return"/media/shortcode/"+e},tag:function(e){return"/tags/"+e+"/media/recent"}};t.parseData=function(e,n){var i;i=n.size;return t.data=function(){switch(n.type){case"shortcode":return r.singleImage(e,n);case"tag":return r.multipleImages(e,n)}}()};t.buildUrl=function(e){return[this.base_url,e,"?","client_id="+this.client_id,"&callback=JSON_CALLBACK"].join("")};t.fetch=function(r){var i,s;i=n.defer();s=this.end_points[r.type](r.term);e.jsonp(this.buildUrl(s)).success(function(e){t.parseData(e,r);return i.resolve(t.data)}).error(function(e){return i.reject("An error occurred.")});return i.promise};return t};n=function(){var e,t;e={};t={thumb:"thumbnail",medium:"low_resolution",large:"standard_resolution"};e.size=t["medium"];e.get=function(){return e.size};e.setSize=function(n){return e.size=n?t[n]:t["medium"]};return e};t.$inject=["$http","$q","InstagramDataParser","InstagramClientID"];return e.module("haideeStagram.factories",[]).factory("Instagram",t).factory("InstagramPhotoSize",n)})(angular);(function(e){"use strict";var t;t=function(){this.id="FAKECLIENTID";this.$get=function(){return this.id};this.setID=function(e){return this.id=e}};return e.module("haideeStagram.providers",[]).provider("InstagramClientID",t)})(angular);(function(e){"use strict";var t;t=function(){var e;t={};e=function(e,t){if(e.link==="image"){return t.images["standard_resolution"].url}else{return e.link}};t.multipleImages=function(t,n){var r,i,s,o,u,a;i=[];a=t.data;for(o=0,u=a.length;o<u;o++){r=a[o];s={};s.image_url=r.images[n.size].url;s.caption=r.caption;s.user=r.user;s.images=r.images;s.link=n.link?e(n,r):r.link;i.push(s)}return i};t.singleImage=function(t,n){var r;r={};r.image_url=t.data.images[n.size].url;r.caption=t.data.caption;r.user=t.data.user;r.images=t.data.images;r.link=n.link?e(n,t.data):t.data.link;return{data:r}};return t};return e.module("haideeStagram.services",[]).service("InstagramDataParser",t)})(angular);(function(e){"use strict";return e.module("haideeStagram",["haideeStagram.factories","haideeStagram.services","haideeStagram.directives","haideeStagram.templates","haideeStagram.providers"])})(angular);(function(e){try{e=angular.module("haideeStagram.templates")}catch(t){e=angular.module("haideeStagram.templates",[])}e.run(["$templateCache",function(e){e.put("/templates/single_image.html","<figure>\n"+"  <a ng-href=\"{{instagram.data.link}}\" rel='instagram-image'>\n"+'    <img ng-src="{{instagram.data.image_url}}" />\n'+"  </a>\n"+"  <figcaption>\n"+"    {{instagram.data.caption.text}}\n"+"    <span>\n"+'      <a ng-href="http://instagram.com/{{instagram.data.user.username}}" target="_blank" rel=\'instagram-user\'>\n'+"        {{instagram.data.user.username}}\n"+"      </a>\n"+"    </span>\n"+"  </figcaption>\n"+"</figure>\n"+"")}])})();(function(e){try{e=angular.module("haideeStagram.templates")}catch(t){e=angular.module("haideeStagram.templates",[])}e.run(["$templateCache",function(e){e.put("/templates/tagged_images.html","<div>\n"+'  <figure ng-repeat="image in instagram">\n'+"    <a ng-href=\"{{image.link}}\" rel='instagram-image'>\n"+'      <img ng-src="{{image.image_url}}" />\n'+"    </a>\n"+"    <figcaption>\n"+"      {{image.caption.text}}\n"+"      <span>\n"+'        <a ng-href="http://instagram.com/{{instagram.data.user.username}}" target="_blank" rel=\'instagram-user\'>\n'+"          {{image.user.username}}\n"+"        </a>\n"+"      </span>\n"+"    </figcaption>\n"+"  </figure>\n"+"</div>\n"+"")}])})()
